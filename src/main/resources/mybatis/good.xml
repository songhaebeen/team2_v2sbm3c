<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dev.mvc.good.GoodDAOInter">

  <!-- 좋아요 눌렀는지 안눌렀는지 확인-->
  <select id="findGood" resultType="int" parameterType="dev.mvc.good.GoodVO">
    SELECT COUNT(*) 
    FROM good 
    WHERE fboardno = #{fboardno} AND memberno = #{memberno}
  </select>

<!-- 좋아요 증가 -->
  <insert id="up" >
    INSERT INTO good(goodno, fboardno, memberno, rdate)
    VALUES(good_seq.nextval, #{memberno}, #{fboardno}, sysdate);
  </insert>
  
  <!-- 좋아요 감소 -->
  <delete id="down">
    DELETE FROM good 
    WHERE fboardno = #{fboardno} AND memberno = #{memberno} 
  </delete>
  
</mapper>